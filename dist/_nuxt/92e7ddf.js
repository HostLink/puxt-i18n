(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{356:function(e,t,n){"use strict";var r=n(2),o=n(48).find,c=n(154),l=n(18),f=!0,m=l("find");"find"in[]&&Array(1).find((function(){f=!1})),r({target:"Array",proto:!0,forced:f||!m},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),c("find")},357:function(e,t,n){"use strict";n.r(t);n(356),n(65),n(95),n(12),n(66),n(67),n(37);var r=n(3);function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,f=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){f=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(f)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var l={props:{api:Object,file:String,locales:Array},data:function(){return{data:[],unuse:{},selected_data:null,selected_lang:null,edit_height:300}},watch:{file:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.loadFile(e);case 1:case"end":return n.stop()}}),n)})))()}},computed:{renderData:function(){return this.data}},created:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loadFile(e.file);case 1:case"end":return t.stop()}}),t)})))()},mounted:function(){return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{onRowClick:function(e,t,n){this.$refs.table1.toggleRowExpansion(e)},onClickTranFromSource:function(data,e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$api.translate(data.msgid,"auto",e);case 2:data.msgstr[e]=n.sent;case 3:case"end":return n.stop()}}),n)})))()},onSaveAll:function(data){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$confirm("Save?");case 2:n=o(e.locales),t.prev=3,n.s();case 5:if((r=n.n()).done){t.next=11;break}return c=r.value,t.next=9,e.$api.saveTran(e.file.substring(0,e.file.length-5),[{msgid:data.msgid,msgstr:data.msgstr[c]}],c);case 9:t.next=5;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),n.e(t.t0);case 16:return t.prev=16,n.f(),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[3,13,16,19]])})))()},copyFromSourceAll:function(data){var e,t=o(this.locales);try{for(t.s();!(e=t.n()).done;){var n=e.value;data.msgstr[n]=data.msgid}}catch(e){t.e(e)}finally{t.f()}},loadFile:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=e){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,t.$api.getTran(e);case 4:r=n.sent,t.data=r.data,t.unuse=r.unuse;case 7:case"end":return n.stop()}}),n)})))()},copyFromSourceSingle:function(e,t){e.msgstr[t]=e.msgid},loadGlobalToSingle:function(){var e=this;confirm("Are you sure load global data to current translate?")&&this.$http.get("System/front_translate_twig/globalData").then((function(t){t.data.entries.forEach((function(t){var n=e.data.find((function(e){return e.msgid==t.name}));n&&(n.msgstr=t.value)}))}))},copyFromSource:function(e){this.data.forEach((function(t){t.msgstr[e]=t.msgid}))},onClickAllE2T:function(){this.data.forEach(this.onClickE2T)},onClickAllT2E:function(){this.data.forEach(this.onClickT2E)},onClickAllT2S:function(){this.data.forEach(this.onClickT2S)},onClickT2E:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.translate(e.msgstr.zh_HK,"zh-TW","en");case 2:e.msgstr.en_US=n.sent;case 3:case"end":return n.stop()}}),n)})))()},onClickT2S:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.api.query({translateT2S:{__args:{text:e.msgstr.zh_HK}}});case 2:r=n.sent,e.msgstr.zh_CN=r.data.translateT2S;case 4:case"end":return n.stop()}}),n)})))()},onClickE2T:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.translate(e.msgstr.en_US,"en","zh-TW");case 2:e.msgstr.zh_HK=n.sent;case 3:case"end":return n.stop()}}),n)})))()},onClickTranAll:function(){var e=this;this.locales.forEach((function(t){e.data.forEach(function(){var n=Object(r.a)(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.translate(r.msgid,"auto",t);case 2:r.msgstr[t]=n.sent;case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}))},onClickSaveTran:function(e,t,n){var o=this;return Object(r.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.$confirm("Save?");case 3:r.next=7;break;case 5:r.prev=5,r.t0=r.catch(0);case 7:return r.prev=7,r.next=10,o.$api.saveTran(o.file.substring(0,o.file.length-5),[{msgid:e,msgstr:t}],n);case 10:r.next=15;break;case 12:r.prev=12,r.t1=r.catch(7),o.$alert(r.t1,{type:"error"});case 15:case"end":return r.stop()}}),r,null,[[0,5],[7,12]])})))()},onClickSave:function(){},clickData:function(e,t){this.selected_data=e,this.selected_lang=t},onClickTranSource:function(e){var t=this;confirm("Are you sure want to translation from source to "+e)&&this.data.forEach(function(){var n=Object(r.a)(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.translate(r.msgid,"auto",e);case 2:r.msgstr[e]=n.sent;case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},tranSrcIfEmpty:function(e){var t=this;confirm("Are you sure want to translation from source to "+e)&&this.data.forEach(function(){var n=Object(r.a)(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=r.msgstr[e]&&0!=r.msgstr[e].length){n.next=4;break}return n.next=3,t.translate(r.msgid,"auto",e);case 3:r.msgstr[e]=n.sent;case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},onClickTran:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.translate(e.msgid,"auto",t);case 2:e.msgstr[t]=r.sent;case 3:case"end":return r.stop()}}),r)})))()}}},f=n(46),component=Object(f.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%"}},[e.file?n("el-table",{ref:"table1",attrs:{data:e.renderData,border:""},on:{"row-click":e.onRowClick}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-table",{attrs:{data:e.locales}},[n("el-table-column",{attrs:{width:"40px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row))]}}],null,!0)}),e._v(" "),n("el-table-column",{attrs:{width:"150px"},scopedSlots:e._u([{key:"default",fn:function(r){return[n("el-button-group",[n("el-button",{on:{click:function(e){t.row.msgstr[r.row]=t.row.msgid}}},[e._v("Copy from source")]),e._v(" "),n("el-button",{on:{click:function(n){return e.onClickTranFromSource(t.row,r.row)}}},[e._v("Tran from source")]),e._v(" "),n("el-button",{on:{click:function(n){return e.onClickSaveTran(t.row.msgid,t.row.msgstr[r.row],r.row)}}},[e._v("Save")])],1)]}}],null,!0)}),e._v(" "),n("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(r){return[n("el-input",{attrs:{type:"textarea",autosize:{minRows:4}},model:{value:t.row.msgstr[r.row],callback:function(n){e.$set(t.row.msgstr,r.row,n)},expression:"scope.row.msgstr[ss.row]"}})]}}],null,!0)},[n("template",{slot:"header"},[n("el-button-group",[n("el-button",{on:{click:function(n){return e.copyFromSourceAll(t.row)}}},[e._v("Copy from source")]),e._v(" "),n("el-button",{on:{click:function(n){return e.onSaveAll(t.row)}}},[e._v(" Save ")])],1)],1)],2)],1)]}}],null,!1,730579416)}),e._v(" "),n("el-table-column",{attrs:{label:"Source"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.msgid)+"\n      ")]}}],null,!1,3941515561)}),e._v(" "),e._l(e.locales,(function(t,r){return n("el-table-column",{key:r,attrs:{label:t},scopedSlots:e._u([{key:"default",fn:function(n){return[e._v("\n        "+e._s(n.row.msgstr[t])+"\n      ")]}}],null,!0)})}))],2):e._e()],1)}),[],!1,null,null,null);t.default=component.exports},358:function(e,t,n){"use strict";n.r(t);n(95),n(37);var r=n(3);function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,f=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){f=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(f)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var l={data:function(){return{locales:[],selected_file:null,props:{label:"name",children:"zones",isLeaf:"leaf"}}},created:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$api.$axios=e.$axios,t.next=3,e.$api.getLocales();case 3:e.locales=t.sent;case 4:case"end":return t.stop()}}),t)})))()},methods:{nodeClicked:function(data){this.selected_file=data.path},loadNode:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var path,c,l,f,m,p;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==e.level){r.next=2;break}return r.abrupt("return",t([{name:"pages",path:"pages"},{name:"layouts",path:"layouts"}]));case 2:return path=e.data.path,r.next=5,n.$api.getFolder(e.data.path);case 5:c=r.sent,l=[],f=o(c);try{for(f.s();!(m=f.n()).done;)p=m.value,l.push({name:p.name,path:path+"/"+p.name,leaf:"file"==p.type})}catch(e){f.e(e)}finally{f.f()}t(l);case 10:case"end":return r.stop()}}),r)})))()}}},f=n(46),component=Object(f.a)(l,(function(){var e=this.$createElement,t=this._self._c||e;return t("el-container",[t("el-aside",{attrs:{width:"200px"}},[t("el-tree",{attrs:{props:this.props,load:this.loadNode,lazy:""},on:{"node-click":this.nodeClicked}})],1),this._v(" "),t("file-translate",{attrs:{file:this.selected_file,locales:this.locales}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{FileTranslate:n(357).default})}}]);